# TODO: 这个文件比较特殊。因为理论上它不包含新的语法，因此暂时不使用。

S -> IMPLICIT_COMMIT_STATEMENT

IMPLICIT_COMMIT_STATEMENT -> DDL_STATEMENT | MYSQL_DB_STATEMENT | TRANSACTION_CONTROL_STATEMENT 
    | DATA_LOADING_STATEMENT | ADMINISTRATIVE_STATEMENT | REPLICATION_CONTROL_STATEMENT

DDL_STATEMENT -> ALTER_EVENT | ALTER_FUNCTION | ALTER_PROCEDURE | ALTER_SERVER 
    | ALTER_TABLE | ALTER_TABLESPACE | ALTER_VIEW | CREATE_DATABASE | CREATE_EVENT 
    | CREATE_FUNCTION | CREATE_INDEX | CREATE_PROCEDURE | CREATE_ROLE | CREATE_SERVER 
    | CREATE_SPATIAL_REFERENCE_SYSTEM | CREATE_TABLE | CREATE_TABLESPACE | CREATE_TRIGGER 
    | CREATE_VIEW | DROP_DATABASE | DROP_EVENT | DROP_FUNCTION | DROP_INDEX | DROP_PROCEDURE 
    | DROP_ROLE | DROP_SERVER | DROP_SPATIAL_REFERENCE_SYSTEM | DROP_TABLE | DROP_TABLESPACE 
    | DROP_TRIGGER | DROP_VIEW | INSTALL_PLUGIN | RENAME_TABLE | TRUNCATE_TABLE 
    | UNINSTALL_PLUGIN

AND_REST_DDL_STATEMENT -> 'CREATE' 'TABLE' TABLE_TEMPORARY_OPTION 'SELECT'
TABLE_TEMPORARY_OPTION -> 'CREATE' | 'CREATE TEMPORARY'

MYSQL_DB_STATEMENT -> ALTER_USER | CREATE_USER | DROP_USER | GRANT 
    | RENAME_USER | REVOKE | SET_PASSWORD

TRANSACTION_CONTROL_STATEMENT -> BEGIN_TRANSACTION | LOCK_TABLES 
    | SET_AUTOCOMMIT | START_TRANSACTION | UNLOCK_TABLES

BEGIN_TRANSACTION -> 'BEGIN'
START_TRANSACTION -> 'START TRANSACTION'
LOCK_TABLES -> 'LOCK TABLES'
SET_AUTOCOMMIT -> 'SET autocommit = 1'
UNLOCK_TABLES -> 'UNLOCK TABLES'

DATA_LOADING_STATEMENT -> LOAD_DATA

LOAD_DATA -> 'LOAD DATA'

ADMINISTRATIVE_STATEMENT -> ANALYZE_TABLE | CACHE_INDEX | CHECK_TABLE 
    | FLUSH | LOAD_INDEX_INTO_CACHE | OPTIMIZE_TABLE | REPAIR_TABLE 
    | RESET_ADMIN

ANALYZE_TABLE -> 'ANALYZE TABLE'
CACHE_INDEX -> 'CACHE INDEX'
CHECK_TABLE -> 'CHECK TABLE'
FLUSH -> 'FLUSH'
LOAD_INDEX_INTO_CACHE -> 'LOAD INDEX INTO CACHE'
OPTIMIZE_TABLE -> 'OPTIMIZE TABLE'
REPAIR_TABLE -> 'REPAIR TABLE'
RESET_ADMIN -> 'RESET'

REPLICATION_CONTROL_STATEMENT -> START_REPLICA 
    | STOP_REPLICA | RESET_REPLICA | CHANGE_REPLICATION_SOURCE

START_REPLICA -> 'START REPLICA'
STOP_REPLICA -> 'STOP REPLICA'
RESET_REPLICA -> 'RESET REPLICA'
CHANGE_REPLICATION_SOURCE -> 'CHANGE REPLICATION SOURCE TO'
