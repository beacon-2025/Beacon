-- 创建测试表
CREATE TABLE PERSON_TYPE (
    PERSON_TYPEID INT PRIMARY KEY,
    NAME VARCHAR(50)
);
-- 插入初始数据
INSERT INTO PERSON_TYPE (PERSON_TYPEID, NAME) VALUES (1, '采购经理');
INSERT INTO PERSON_TYPE (PERSON_TYPEID, NAME) VALUES (2, '采购代表');
INSERT INTO PERSON_TYPE (PERSON_TYPEID, NAME) VALUES (3, '销售经理');
INSERT INTO PERSON_TYPE (PERSON_TYPEID, NAME) VALUES (4, '销售代表');
INSERT INTO PERSON_TYPE (PERSON_TYPEID, NAME) VALUES (5, '收银员');
-- 修改数据并提交
UPDATE PERSON_TYPE SET NAME='保安员' WHERE PERSON_TYPEID=5;
COMMIT;
-- 再次修改数据并提交
UPDATE PERSON_TYPE SET NAME='收银员' WHERE PERSON_TYPEID=5;
COMMIT;
-- 闪回版本查询
SELECT VERSIONS_ENDTRXID, NAME FROM PERSON_TYPE VERSIONS BETWEEN TIMESTAMP '2023-01-01 12:24:00' AND SYSDATE;
-- 修改数据并提交
UPDATE PERSON_TYPE SET NAME='保安员' WHERE PERSON_TYPEID=5;
COMMIT;
-- 再次修改数据并提交
UPDATE PERSON_TYPE SET NAME='收银员' WHERE PERSON_TYPEID=5;
COMMIT;
-- 闪回版本查询
SELECT VERSIONS_ENDTRXID, NAME FROM PERSON_TYPE VERSIONS BETWEEN TRXID 100 AND 200;
-- 插入新数据并提交
INSERT INTO PERSON_TYPE (PERSON_TYPEID, NAME) VALUES (6, '防损员');
COMMIT;
-- 闪回版本查询
SELECT VERSIONS_ENDTRXID, NAME FROM PERSON_TYPE VERSIONS BETWEEN TIMESTAMP '2023-01-01 12:24:00' AND SYSDATE;
-- 删除数据并提交
DELETE FROM PERSON_TYPE WHERE PERSON_TYPEID=5;
COMMIT;
-- 闪回版本查询
SELECT VERSIONS_ENDTRXID, NAME FROM PERSON_TYPE VERSIONS BETWEEN TIMESTAMP '2023-01-01 12:24:00' AND SYSDATE;
-- 修改数据并提交
UPDATE PERSON_TYPE SET NAME='保安员' WHERE PERSON_TYPEID=5;
COMMIT;
-- 再次修改数据并提交
UPDATE PERSON_TYPE SET NAME='收银员' WHERE PERSON_TYPEID=5;
COMMIT;
-- 闪回版本查询
SELECT VERSIONS_ENDTRXID, NAME FROM PERSON_TYPE VERSIONS BETWEEN TIMESTAMP '2023-01-01 12:24:00' AND SYSDATE;
-- 插入新数据并提交
INSERT INTO PERSON_TYPE (PERSON_TYPEID, NAME) VALUES (6, '防损员');
COMMIT;
-- 修改数据并提交
UPDATE PERSON_TYPE SET NAME='保安员' WHERE PERSON_TYPEID=5;
COMMIT;
-- 删除数据并提交
DELETE FROM PERSON_TYPE WHERE PERSON_TYPEID=5;
COMMIT;
-- 闪回版本查询
SELECT VERSIONS_ENDTRXID, NAME FROM PERSON_TYPE VERSIONS BETWEEN TIMESTAMP '2023-01-01 12:24:00' AND SYSDATE;
-- 修改数据并提交
UPDATE PERSON_TYPE SET NAME='保安员' WHERE PERSON_TYPEID=5;
COMMIT;
-- 再次修改数据并提交
UPDATE PERSON_TYPE SET NAME='收银员' WHERE PERSON_TYPEID=5;
COMMIT;
-- 闪回版本查询
SELECT VERSIONS_ENDTRXID, NAME FROM PERSON_TYPE VERSIONS BETWEEN TRXID 100 AND 200;
-- 修改数据并提交
UPDATE PERSON_TYPE SET NAME='保安员' WHERE PERSON_TYPEID=5;
COMMIT;
-- 再次修改数据并提交
UPDATE PERSON_TYPE SET NAME='收银员' WHERE PERSON_TYPEID=5;
COMMIT;
-- 闪回版本查询
SELECT VERSIONS_ENDTRXID, NAME FROM PERSON_TYPE VERSIONS BETWEEN TIMESTAMP '2023-01-01 12:24:00' AND '2023-01-01 12:25:00';
-- 修改数据并提交
UPDATE PERSON_TYPE SET NAME='保安员' WHERE PERSON_TYPEID=5;
COMMIT;
-- 再次修改数据并提交
UPDATE PERSON_TYPE SET NAME='收银员' WHERE PERSON_TYPEID=5;
COMMIT;
-- 闪回版本查询
SELECT VERSIONS_ENDTRXID, NAME FROM PERSON_TYPE VERSIONS BETWEEN TRXID 100 AND 200;
-- 插入新数据并提交
INSERT INTO PERSON_TYPE (PERSON_TYPEID, NAME) VALUES (6, '防损员');
COMMIT;
-- 修改数据并提交
UPDATE PERSON_TYPE SET NAME='保安员' WHERE PERSON_TYPEID=5;
COMMIT;
-- 删除数据并提交
DELETE FROM PERSON_TYPE WHERE PERSON_TYPEID=5;
COMMIT;
-- 闪回版本查询
SELECT VERSIONS_ENDTRXID, NAME FROM PERSON_TYPE VERSIONS BETWEEN TIMESTAMP '2023-01-01 12:24:00' AND SYSDATE