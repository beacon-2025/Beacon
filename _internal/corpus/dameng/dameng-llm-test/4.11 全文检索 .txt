-- 创建表 PRODUCT1
CREATE TABLE PRODUCT1 (
    PRODUCTID INT PRIMARY KEY,
    NAME VARCHAR(100),
    DESCRIPTION VARCHAR(1000)
);
-- 创建表 PRODUCT2
CREATE TABLE PRODUCT2 (
    PRODUCTID INT PRIMARY KEY,
    NAME VARCHAR(100),
    DESCRIPTION VARCHAR(1000)
);
-- 创建表 PRODUCT3
CREATE TABLE PRODUCT3 (
    PRODUCTID INT PRIMARY KEY,
    NAME VARCHAR(100),
    DESCRIPTION VARCHAR(1000)
);
-- 插入数据到 PRODUCT1
INSERT INTO PRODUCT1 (PRODUCTID, NAME, DESCRIPTION) VALUES (1, '红楼梦', '中国古典小说');
INSERT INTO PRODUCT1 (PRODUCTID, NAME, DESCRIPTION) VALUES (2, '水浒传', '中国古典小说');
INSERT INTO PRODUCT1 (PRODUCTID, NAME, DESCRIPTION) VALUES (3, '老人与海', '外国文学');
INSERT INTO PRODUCT1 (PRODUCTID, NAME, DESCRIPTION) VALUES (4, '射雕英雄传', '武侠小说');
INSERT INTO PRODUCT1 (PRODUCTID, NAME, DESCRIPTION) VALUES (5, '鲁迅文集', '中国现代文学');
INSERT INTO PRODUCT1 (PRODUCTID, NAME, DESCRIPTION) VALUES (6, '长征', '历史书籍');
INSERT INTO PRODUCT1 (PRODUCTID, NAME, DESCRIPTION) VALUES (7, '数据结构(C语言版)', '计算机科学');
INSERT INTO PRODUCT1 (PRODUCTID, NAME, DESCRIPTION) VALUES (8, '工作中无小事', '职场书籍');
INSERT INTO PRODUCT1 (PRODUCTID, NAME, DESCRIPTION) VALUES (9, '突破英文基础词汇', '英语学习');
INSERT INTO PRODUCT1 (PRODUCTID, NAME, DESCRIPTION) VALUES (10, '噼里啪啦丛书', '儿童读物');
-- 插入数据到 PRODUCT2
INSERT INTO PRODUCT2 (PRODUCTID, NAME, DESCRIPTION) VALUES (1, 'Java编程思想', '计算机科学');
INSERT INTO PRODUCT2 (PRODUCTID, NAME, DESCRIPTION) VALUES (2, 'Python编程', '计算机科学');
INSERT INTO PRODUCT2 (PRODUCTID, NAME, DESCRIPTION) VALUES (3, 'C++ Primer', '计算机科学');
INSERT INTO PRODUCT2 (PRODUCTID, NAME, DESCRIPTION) VALUES (4, '算法导论', '计算机科学');
INSERT INTO PRODUCT2 (PRODUCTID, NAME, DESCRIPTION) VALUES (5, '数据库系统概念', '计算机科学');
INSERT INTO PRODUCT2 (PRODUCTID, NAME, DESCRIPTION) VALUES (6, '计算机网络', '计算机科学');
INSERT INTO PRODUCT2 (PRODUCTID, NAME, DESCRIPTION) VALUES (7, '操作系统概念', '计算机科学');
INSERT INTO PRODUCT2 (PRODUCTID, NAME, DESCRIPTION) VALUES (8, '编译原理', '计算机科学');
INSERT INTO PRODUCT2 (PRODUCTID, NAME, DESCRIPTION) VALUES (9, '人工智能', '计算机科学');
INSERT INTO PRODUCT2 (PRODUCTID, NAME, DESCRIPTION) VALUES (10, '机器学习', '计算机科学');
-- 插入数据到 PRODUCT3
INSERT INTO PRODUCT3 (PRODUCTID, NAME, DESCRIPTION) VALUES (1, '百年孤独', '外国文学');
INSERT INTO PRODUCT3 (PRODUCTID, NAME, DESCRIPTION) VALUES (2, '战争与和平', '外国文学');
INSERT INTO PRODUCT3 (PRODUCTID, NAME, DESCRIPTION) VALUES (3, '追风筝的人', '外国文学');
INSERT INTO PRODUCT3 (PRODUCTID, NAME, DESCRIPTION) VALUES (4, '挪威的森林', '外国文学');
INSERT INTO PRODUCT3 (PRODUCTID, NAME, DESCRIPTION) VALUES (5, '1984', '外国文学');
INSERT INTO PRODUCT3 (PRODUCTID, NAME, DESCRIPTION) VALUES (6, '动物农场', '外国文学');
INSERT INTO PRODUCT3 (PRODUCTID, NAME, DESCRIPTION) VALUES (7, '小王子', '外国文学');
INSERT INTO PRODUCT3 (PRODUCTID, NAME, DESCRIPTION) VALUES (8, '飘', '外国文学');
INSERT INTO PRODUCT3 (PRODUCTID, NAME, DESCRIPTION) VALUES (9, '傲慢与偏见', '外国文学');
INSERT INTO PRODUCT3 (PRODUCTID, NAME, DESCRIPTION) VALUES (10, '简爱', '外国文学');
-- 在 PRODUCT1 表的 DESCRIPTION 列上创建全文索引
CREATE CONTEXT INDEX INDEX1 ON PRODUCT1(DESCRIPTION) LEXER CHINESE_VGRAM_LEXER;
-- 完全填充全文索引
ALTER CONTEXT INDEX INDEX1 ON PRODUCT1 REBUILD;
-- 查找描述里有“中国”字样的产品的编号和名称
SELECT PRODUCTID, NAME FROM PRODUCT1 WHERE CONTAINS(DESCRIPTION, '中国');
-- 查找描述里有“中国”及“古典”字样的产品的编号和名称
SELECT PRODUCTID, NAME FROM PRODUCT1 WHERE CONTAINS(DESCRIPTION, '中国' AND '古典');
-- 查找描述里有“中国”或“外国”字样的产品的编号和名称
SELECT PRODUCTID, NAME FROM PRODUCT1 WHERE CONTAINS(DESCRIPTION, '中国' OR '外国');
-- 查找描述里无“中国”字样的产品的编号和名称
SELECT PRODUCTID, NAME FROM PRODUCT1 WHERE NOT CONTAINS(DESCRIPTION, '中国');
-- 查找描述里有“C语言”字样的产品的编号和名称
SELECT PRODUCTID, NAME FROM PRODUCT1 WHERE CONTAINS(DESCRIPTION, 'C语言');
-- 删除 PRODUCT1 表的全文索引
DROP CONTEXT INDEX INDEX1 ON PRODUCT1;
-- 在 PRODUCT2 表的 DESCRIPTION 列上创建全文索引
CREATE CONTEXT INDEX INDEX2 ON PRODUCT2(DESCRIPTION) LEXER CHINESE_VGRAM_LEXER;
-- 完全填充全文索引
ALTER CONTEXT INDEX INDEX2 ON PRODUCT2 REBUILD;
-- 查找描述里有“计算机”字样的产品的编号和名称
SELECT PRODUCTID, NAME FROM PRODUCT2 WHERE CONTAINS(DESCRIPTION, '计算机');
-- 查找描述里有“计算机”及“科学”字样的产品的编号和名称
SELECT PRODUCTID, NAME FROM PRODUCT2 WHERE CONTAINS(DESCRIPTION, '计算机' AND '科学');
-- 查找描述里有“计算机”或“科学”且不包含“网络”字样的产品的编号和名称
SELECT PRODUCTID, NAME FROM PRODUCT2 WHERE CONTAINS(DESCRIPTION, '计算机' OR '科学') AND NOT CONTAINS(DESCRIPTION, '网络');
-- 在 PRODUCT3 表的 DESCRIPTION 列上创建全文索引
CREATE CONTEXT INDEX INDEX3 ON PRODUCT3(DESCRIPTION) LEXER CHINESE_VGRAM_LEXER;
-- 完全填充全文索引
ALTER CONTEXT INDEX INDEX3 ON PRODUCT3 REBUILD;
-- 查找描述里有“外国”字样的产品的编号和名称
SELECT PRODUCTID, NAME FROM PRODUCT3 WHERE CONTAINS(DESCRIPTION, '外国');
-- 查找描述里有“小王子”字样的产品的编号和名称
SELECT PRODUCTID, NAME FROM PRODUCT3 WHERE CONTAINS(DESCRIPTION, '小王子');
-- 删除 PRODUCT2 表的全文索引
DROP CONTEXT INDEX INDEX2 ON PRODUCT2;
-- 删除 PRODUCT3 表的全文索引
DROP CONTEXT INDEX INDEX3 ON PRODUCT3