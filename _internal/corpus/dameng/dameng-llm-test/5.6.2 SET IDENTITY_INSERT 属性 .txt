-- 创建模式
CREATE SCHEMA IF NOT EXISTS PERSON;
-- 创建包含自增列的表
CREATE TABLE PERSON.PERSON_TYPE (
    PERSON_TYPEID INT IDENTITY(1,1) PRIMARY KEY,
    NAME VARCHAR(100)
);
-- 插入初始数据
INSERT INTO PERSON.PERSON_TYPE (NAME) VALUES ('采购经理');
INSERT INTO PERSON.PERSON_TYPE (NAME) VALUES ('采购代表');
INSERT INTO PERSON.PERSON_TYPE (NAME) VALUES ('销售经理');
INSERT INTO PERSON.PERSON_TYPE (NAME) VALUES ('销售代表');
-- 插入数据，自增列由系统自动生成
INSERT INTO PERSON.PERSON_TYPE (NAME) VALUES ('销售总监');
INSERT INTO PERSON.PERSON_TYPE (NAME) VALUES ('人力资源部经理');
-- 设置 IDENTITY_INSERT 为 ON
SET IDENTITY_INSERT PERSON.PERSON_TYPE ON;
-- 插入指定自增列的值
INSERT INTO PERSON.PERSON_TYPE (PERSON_TYPEID, NAME) VALUES (8, '广告部经理');
INSERT INTO PERSON.PERSON_TYPE (PERSON_TYPEID, NAME) VALUES (9, '财务部经理');
-- 还原 IDENTITY_INSERT 为 OFF
SET IDENTITY_INSERT PERSON.PERSON_TYPE OFF;
-- 尝试更新自增列的值
UPDATE PERSON.PERSON_TYPE SET PERSON_TYPEID = 9 WHERE NAME = '广告部经理';
-- 插入数据，自增列由系统自动生成
INSERT INTO PERSON.PERSON_TYPE (NAME) VALUES ('市场总监');
-- 设置 IDENTITY_INSERT 为 ON 并使用 WITH REPLACE NULL
SET IDENTITY_INSERT PERSON.PERSON_TYPE ON WITH REPLACE NULL;
-- 插入 NULL 值，系统将自动替换为自增值
INSERT INTO PERSON.PERSON_TYPE (PERSON_TYPEID, NAME) VALUES (NULL, '总经理');
-- 还原 IDENTITY_INSERT 为 OFF
SET IDENTITY_INSERT PERSON.PERSON_TYPE OFF;
-- 尝试在 IDENTITY_INSERT 为 OFF 时插入指定自增列的值
INSERT INTO PERSON.PERSON_TYPE (PERSON_TYPEID, NAME) VALUES (12, '技术总监');
-- 创建另一个表
CREATE TABLE PERSON.EMPLOYEE (
    EMPLOYEE_ID INT IDENTITY(1,1) PRIMARY KEY,
    EMPLOYEE_NAME VARCHAR(100)
);
-- 设置 IDENTITY_INSERT 为 ON
SET IDENTITY_INSERT PERSON.EMPLOYEE ON;
-- 插入指定自增列的值
INSERT INTO PERSON.EMPLOYEE (EMPLOYEE_ID, EMPLOYEE_NAME) VALUES (100, '张三');
INSERT INTO PERSON.EMPLOYEE (EMPLOYEE_ID, EMPLOYEE_NAME) VALUES (101, '李四');
-- 还原 IDENTITY_INSERT 为 OFF
SET IDENTITY_INSERT PERSON.EMPLOYEE OFF;
-- 设置 IDENTITY_INSERT 为 ON
SET IDENTITY_INSERT PERSON.EMPLOYEE ON;
-- 尝试插入不指定自增列的值
INSERT INTO PERSON.EMPLOYEE (EMPLOYEE_NAME) VALUES ('王五');
-- 还原 IDENTITY_INSERT 为 OFF
SET IDENTITY_INSERT PERSON.EMPLOYEE OFF;
-- 设置 IDENTITY_INSERT 为 ON 并使用 WITH REPLACE NULL
SET IDENTITY_INSERT PERSON.EMPLOYEE ON WITH REPLACE NULL;
-- 插入 NULL 值，系统将自动替换为自增值
INSERT INTO PERSON.EMPLOYEE (EMPLOYEE_ID, EMPLOYEE_NAME) VALUES (NULL, '赵六');
-- 还原 IDENTITY_INSERT 为 OFF
SET IDENTITY_INSERT PERSON.EMPLOYEE OFF;
-- 尝试在 IDENTITY_INSERT 为 OFF 时插入 NULL 值
INSERT INTO PERSON.EMPLOYEE (EMPLOYEE_ID, EMPLOYEE_NAME) VALUES (NULL, '孙七')