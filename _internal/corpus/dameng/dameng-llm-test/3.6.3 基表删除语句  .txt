-- 创建模式
CREATE SCHEMA PERSON;
CREATE SCHEMA PURCHASING;
-- 创建表
CREATE TABLE PERSON.PERSON (
    id INT PRIMARY KEY,
    name VARCHAR(50)
);
CREATE TABLE PERSON.PERSON_TYPE (
    id INT PRIMARY KEY,
    type_name VARCHAR(50)
);
CREATE TABLE PURCHASING.VENDOR_PERSON (
    id INT PRIMARY KEY,
    person_id INT REFERENCES PERSON.PERSON_TYPE(id)
);
-- 创建视图
CREATE VIEW PERSON.PERSON_VIEW AS SELECT * FROM PERSON.PERSON;
-- 测试用例 1: 删除存在的表，使用默认的RESTRICT方式
DROP TABLE PERSON.PERSON;
-- 测试用例 2: 删除存在的表，使用CASCADE方式
DROP TABLE PERSON.PERSON CASCADE;
-- 测试用例 3: 删除不存在的表，不使用IF EXISTS，预期报错
DROP TABLE PERSON.NON_EXISTENT_TABLE;
-- 测试用例 4: 删除不存在的表，使用IF EXISTS，预期不报错
DROP TABLE IF EXISTS PERSON.NON_EXISTENT_TABLE;
-- 测试用例 5: 删除表并删除其上的视图，使用CASCADE方式
DROP TABLE PERSON.PERSON CASCADE;
-- 测试用例 6: 删除表并删除其上的视图，使用RESTRICT方式，预期报错
DROP TABLE PERSON.PERSON RESTRICT;
-- 测试用例 7: 删除外部基表，不指定RESTRICT和CASCADE
DROP TABLE PERSON.PERSON;
-- 测试用例 8: 删除表并删除其上的引用完整性约束，使用CASCADE方式
DROP TABLE PERSON.PERSON_TYPE CASCADE;
-- 测试用例 9: 删除表并删除其上的引用完整性约束，使用RESTRICT方式，预期报错
DROP TABLE PERSON.PERSON_TYPE RESTRICT;
-- 测试用例 10: 删除表并删除其上的索引
DROP TABLE PERSON.PERSON;
-- 测试用例 11: 删除表并取消所有用户在该表上的权限
DROP TABLE PERSON.PERSON;
-- 测试用例 12: 删除表后，再创建同名表
DROP TABLE PERSON.PERSON;
CREATE TABLE PERSON.PERSON (
    id INT PRIMARY KEY,
    name VARCHAR(50)
);
-- 测试用例 13: 删除表并删除其上的视图，使用CASCADE方式，且DROP_CASCADE_VIEW参数为1
-- 假设DROP_CASCADE_VIEW参数已设置为1
DROP TABLE PERSON.PERSON CASCADE;
-- 测试用例 14: 删除表并删除其上的视图，使用RESTRICT方式，且DROP_CASCADE_VIEW参数为1，预期报错
-- 假设DROP_CASCADE_VIEW参数已设置为1
DROP TABLE PERSON.PERSON RESTRICT;
-- 测试用例 15: 删除表并删除其上的引用完整性约束，使用CASCADE方式，且DROP_CASCADE_VIEW参数为1
-- 假设DROP_CASCADE_VIEW参数已设置为1
DROP TABLE PERSON.PERSON_TYPE CASCADE;
-- 测试用例 16: 删除表并删除其上的引用完整性约束，使用RESTRICT方式，且DROP_CASCADE_VIEW参数为1，预期报错
-- 假设DROP_CASCADE_VIEW参数已设置为1
DROP TABLE PERSON.PERSON_TYPE RESTRICT;
-- 测试用例 17: 删除表并删除其上的索引，且DROP_CASCADE_VIEW参数为1
-- 假设DROP_CASCADE_VIEW参数已设置为1
DROP TABLE PERSON.PERSON;
-- 测试用例 18: 删除表并取消所有用户在该表上的权限，且DROP_CASCADE_VIEW参数为1
-- 假设DROP_CASCADE_VIEW参数已设置为1
DROP TABLE PERSON.PERSON;
-- 测试用例 19: 删除表后，再创建同名表，且DROP_CASCADE_VIEW参数为1
-- 假设DROP_CASCADE_VIEW参数已设置为1
DROP TABLE PERSON.PERSON;
CREATE TABLE PERSON.PERSON (
    id INT PRIMARY KEY,
    name VARCHAR(50)
);
-- 测试用例 20: 删除表并删除其上的视图，使用CASCADE方式，且DROP_CASCADE_VIEW参数为0
-- 假设DROP_CASCADE_VIEW参数已设置为0
DROP TABLE PERSON.PERSON CASCADE;
-- 测试用例 21: 删除表并删除其上的视图，使用RESTRICT方式，且DROP_CASCADE_VIEW参数为0，预期报错
-- 假设DROP_CASCADE_VIEW参数已设置为0
DROP TABLE PERSON.PERSON RESTRICT;
-- 测试用例 22: 删除表并删除其上的引用完整性约束，使用CASCADE方式，且DROP_CASCADE_VIEW参数为0
-- 假设DROP_CASCADE_VIEW参数已设置为0
DROP TABLE PERSON.PERSON_TYPE CASCADE;
-- 测试用例 23: 删除表并删除其上的引用完整性约束，使用RESTRICT方式，且DROP_CASCADE_VIEW参数为0，预期报错
-- 假设DROP_CASCADE_VIEW参数已设置为0
DROP TABLE PERSON.PERSON_TYPE RESTRICT;
-- 测试用例 24: 删除表并删除其上的索引，且DROP_CASCADE_VIEW参数为0
-- 假设DROP_CASCADE_VIEW参数已设置为0
DROP TABLE PERSON.PERSON;
-- 测试用例 25: 删除表并取消所有用户在该表上的权限，且DROP_CASCADE_VIEW参数为0
-- 假设DROP_CASCADE_VIEW参数已设置为0
DROP TABLE PERSON.PERSON;
-- 测试用例 26: 删除表后，再创建同名表，且DROP_CASCADE_VIEW参数为0
-- 假设DROP_CASCADE_VIEW参数已设置为0
DROP TABLE PERSON.PERSON;
CREATE TABLE PERSON.PERSON (
    id INT PRIMARY KEY,
    name VARCHAR(50)
);
-- 测试用例 27: 删除表并删除其上的视图，使用CASCADE方式，且DROP_CASCADE_VIEW参数为1
-- 假设DROP_CASCADE_VIEW参数已设置为1
DROP TABLE PERSON.PERSON CASCADE;
-- 测试用例 28: 删除表并删除其上的视图，使用RESTRICT方式，且DROP_CASCADE_VIEW参数为1，预期报错
-- 假设DROP_CASCADE_VIEW参数已设置为1
DROP TABLE PERSON.PERSON RESTRICT;
-- 测试用例 29: 删除表并删除其上的引用完整性约束，使用CASCADE方式，且DROP_CASCADE_VIEW参数为1
-- 假设DROP_CASCADE_VIEW参数已设置为1
DROP TABLE PERSON.PERSON_TYPE CASCADE;
-- 测试用例 30: 删除表并删除其上的引用完整性约束，使用RESTRICT方式，且DROP_CASCADE_VIEW参数为1，预期报错
-- 假设DROP_CASCADE_VIEW参数已设置为1
DROP TABLE PERSON.PERSON_TYPE RESTRICT;
-- 测试用例 31: 删除表并删除其上的索引，且DROP_CASCADE_VIEW参数为1
-- 假设DROP_CASCADE_VIEW参数已设置为1
DROP TABLE PERSON.PERSON;
-- 测试用例 32: 删除表并取消所有用户在该表上的权限，且DROP_CASCADE_VIEW参数为1
-- 假设DROP_CASCADE_VIEW参数已设置为1
DROP TABLE PERSON.PERSON;
-- 测试用例 33: 删除表后，再创建同名表，且DROP_CASCADE_VIEW参数为1
-- 假设DROP_CASCADE_VIEW参数已设置为1
DROP TABLE PERSON.PERSON;
CREATE TABLE PERSON.PERSON (
    id INT PRIMARY KEY,
    name VARCHAR(50)
);
-- 测试用例 34: 删除表并删除其上的视图，使用CASCADE方式，且DROP_CASCADE_VIEW参数为0
-- 假设DROP_CASCADE_VIEW参数已设置为0
DROP TABLE PERSON.PERSON CASCADE;
-- 测试用例 35: 删除表并删除其上的视图，使用RESTRICT方式，且DROP_CASCADE_VIEW参数为0，预期报错
-- 假设DROP_CASCADE_VIEW参数已设置为0
DROP TABLE PERSON.PERSON RESTRICT;
-- 测试用例 36: 删除表并删除其上的引用完整性约束，使用CASCADE方式，且DROP_CASCADE_VIEW参数为0
-- 假设DROP_CASCADE_VIEW参数已设置为0
DROP TABLE PERSON.PERSON_TYPE CASCADE;
-- 测试用例 37: 删除表并删除其上的引用完整性约束，使用RESTRICT方式，且DROP_CASCADE_VIEW参数为0，预期报错
-- 假设DROP_CASCADE_VIEW参数已设置为0
DROP TABLE PERSON.PERSON_TYPE RESTRICT;
-- 测试用例 38: 删除表并删除其上的索引，且DROP_CASCADE_VIEW参数为0
-- 假设DROP_CASCADE_VIEW参数已设置为0
DROP TABLE PERSON.PERSON;
-- 测试用例 39: 删除表并取消所有用户在该表上的权限，且DROP_CASCADE_VIEW参数为0
-- 假设DROP_CASCADE_VIEW参数已设置为0
DROP TABLE PERSON.PERSON;
-- 测试用例 40: 删除表后，再创建同名表，且DROP_CASCADE_VIEW参数为0
-- 假设DROP_CASCADE_VIEW参数已设置为0
DROP TABLE PERSON.PERSON;
CREATE TABLE PERSON.PERSON (
    id INT PRIMARY KEY,
    name VARCHAR(50)
)