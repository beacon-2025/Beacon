-- 公共前置语句
DROP TABLE IF EXISTS TEST1;
CREATE TABLE TEST1 (C1 INT, C2 INT);
DROP TABLE IF EXISTS TEST2;
CREATE TABLE TEST2 (C1 INT, C2 INT);
DROP TABLE IF EXISTS TEST3;
CREATE TABLE TEST3 (C1 INT, C2 INT) PARTITION BY HASH(C1) PARTITIONS 3;
DROP TABLE IF EXISTS TEST4;
CREATE TABLE TEST4 (C1 INT, C2 INT);
DROP TABLE IF EXISTS TEST5;
CREATE TABLE TEST5 (C1 INT, C2 INT);
DROP TABLE IF EXISTS TEST6;
CREATE TABLE TEST6 (C1 INT, C2 INT);
DROP TABLE IF EXISTS TEST7;
CREATE TABLE TEST7 (C1 INT, C2 INT);
DROP TABLE IF EXISTS TEST8;
CREATE TABLE TEST8 (C1 INT, C2 INT);
DROP TABLE IF EXISTS TEST9;
CREATE TABLE TEST9 (C1 INT, C2 INT);
DROP TABLE IF EXISTS TEST10;
CREATE TABLE TEST10 (C1 INT, C2 INT);
-- 测试用例1: 重命名索引
CREATE INDEX IDX_TEST1_C1 ON TEST1(C1);
ALTER INDEX IDX_TEST1_C1 RENAME TO IDX_TEST1_C1_NEW;
-- 测试用例2: 设置索引为不可见
CREATE INDEX IDX_TEST2_C1 ON TEST2(C1);
ALTER INDEX IDX_TEST2_C1 INVISIBLE;
-- 测试用例3: 设置索引为可见
CREATE INDEX IDX_TEST3_C1 ON TEST3(C1);
ALTER INDEX IDX_TEST3_C1 VISIBLE;
-- 测试用例4: 设置索引为无效状态
CREATE INDEX IDX_TEST4_C1 ON TEST4(C1);
ALTER INDEX IDX_TEST4_C1 UNUSABLE;
-- 测试用例5: 重建索引（默认方式）
CREATE INDEX IDX_TEST5_C1 ON TEST5(C1) UNUSABLE;
ALTER INDEX IDX_TEST5_C1 REBUILD;
-- 测试用例6: 重建索引（NOSORT）
CREATE INDEX IDX_TEST6_C1 ON TEST6(C1) UNUSABLE;
ALTER INDEX IDX_TEST6_C1 REBUILD NOSORT;
-- 测试用例7: 重建索引（ONLINE）
CREATE INDEX IDX_TEST7_C1 ON TEST7(C1) UNUSABLE;
ALTER INDEX IDX_TEST7_C1 REBUILD ONLINE;
-- 测试用例8: 并发重建索引（SHARE）
CREATE INDEX IDX_TEST8_C1 ON TEST8(C1) UNUSABLE;
ALTER INDEX IDX_TEST8_C1 REBUILD SHARE;
-- 测试用例9: 并行重建索引（SHARE ASYNCHRONOUS）
CREATE INDEX IDX_TEST9_C1 ON TEST9(C1) UNUSABLE;
ALTER INDEX IDX_TEST9_C1 REBUILD SHARE ASYNCHRONOUS 3;
-- 测试用例10: 排他重建索引（EXCLUSIVE）
CREATE INDEX IDX_TEST10_C1 ON TEST10(C1) UNUSABLE;
ALTER INDEX IDX_TEST10_C1 REBUILD EXCLUSIVE;
-- 测试用例11: 监控索引使用情况
CREATE INDEX IDX_TEST1_C2 ON TEST1(C2);
ALTER INDEX IDX_TEST1_C2 MONITORING USAGE;
-- 测试用例12: 取消监控索引使用情况
CREATE INDEX IDX_TEST2_C2 ON TEST2(C2);
ALTER INDEX IDX_TEST2_C2 MONITORING USAGE;
ALTER INDEX IDX_TEST2_C2 NOMONITORING USAGE;
-- 测试用例13: 重建索引（SHARE ASYNCHRONOUS，异步任务数为5）
CREATE INDEX IDX_TEST3_C2 ON TEST3(C2) UNUSABLE;
ALTER INDEX IDX_TEST3_C2 REBUILD SHARE ASYNCHRONOUS 5;
-- 测试用例14: 重建索引（SHARE ASYNCHRONOUS，异步任务数为100）
CREATE INDEX IDX_TEST4_C2 ON TEST4(C2) UNUSABLE;
ALTER INDEX IDX_TEST4_C2 REBUILD SHARE ASYNCHRONOUS 100;
-- 测试用例15: 重建索引（SHARE ASYNCHRONOUS，异步任务数为2）
CREATE INDEX IDX_TEST5_C2 ON TEST5(C2) UNUSABLE;
ALTER INDEX IDX_TEST5_C2 REBUILD SHARE ASYNCHRONOUS 2;
-- 测试用例16: 重建索引（SHARE ASYNCHRONOUS，异步任务数为16）
CREATE INDEX IDX_TEST6_C2 ON TEST6(C2) UNUSABLE;
ALTER INDEX IDX_TEST6_C2 REBUILD SHARE ASYNCHRONOUS 16;
-- 测试用例17: 重建索引（SHARE ASYNCHRONOUS，异步任务数为50）
CREATE INDEX IDX_TEST7_C2 ON TEST7(C2) UNUSABLE;
ALTER INDEX IDX_TEST7_C2 REBUILD SHARE ASYNCHRONOUS 50;
-- 测试用例18: 重建索引（SHARE ASYNCHRONOUS，异步任务数为10）
CREATE INDEX IDX_TEST8_C2 ON TEST8(C2) UNUSABLE;
ALTER INDEX IDX_TEST8_C2 REBUILD SHARE ASYNCHRONOUS 10;
-- 测试用例19: 重建索引（SHARE ASYNCHRONOUS，异步任务数为20）
CREATE INDEX IDX_TEST9_C2 ON TEST9(C2) UNUSABLE;
ALTER INDEX IDX_TEST9_C2 REBUILD SHARE ASYNCHRONOUS 20;
-- 测试用例20: 重建索引（SHARE ASYNCHRONOUS，异步任务数为30）
CREATE INDEX IDX_TEST10_C2 ON TEST10(C2) UNUSABLE;
ALTER INDEX IDX_TEST10_C2 REBUILD SHARE ASYNCHRONOUS 30