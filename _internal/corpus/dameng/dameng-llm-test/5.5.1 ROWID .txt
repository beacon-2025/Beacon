-- 创建测试表
CREATE TABLE PURCHASING.VENDOR (
    VENDORID INT PRIMARY KEY,
    NAME VARCHAR(100),
    CREDIT INT
);
-- 插入测试数据
INSERT INTO PURCHASING.VENDOR (VENDORID, NAME, CREDIT) VALUES (1, '广州出版社', 1);
INSERT INTO PURCHASING.VENDOR (VENDORID, NAME, CREDIT) VALUES (2, '北京出版社', 3);
INSERT INTO PURCHASING.VENDOR (VENDORID, NAME, CREDIT) VALUES (3, '上海出版社', 2);
-- 用例1: 查询ROWID和其他列
SELECT ROWID, VENDORID, NAME, CREDIT
FROM PURCHASING.VENDOR
WHERE NAME = '广州出版社';
-- 用例2: 使用ROWID进行更新
-- 假设查询的ROWID为0XCF06000000
UPDATE PURCHASING.VENDOR
SET CREDIT = 2
WHERE ROWID = 0XCF06000000;
-- 用例3: 查询ROWID并锁定行
SELECT ROWID, VENDORID, NAME, CREDIT
FROM PURCHASING.VENDOR
WHERE NAME = '北京出版社'
FOR UPDATE;
-- 用例4: 查询ROWID并锁定行后进行更新
-- 假设查询的ROWID为0XCF07000000
UPDATE PURCHASING.VENDOR
SET CREDIT = 4
WHERE ROWID = 0XCF07000000;
-- 用例5: 查询ROWID和其他列，不锁定行
SELECT ROWID, VENDORID, NAME, CREDIT
FROM PURCHASING.VENDOR
WHERE NAME = '上海出版社';
-- 用例6: 使用ROWID进行更新，不锁定行
-- 假设查询的ROWID为0XCF08000000
UPDATE PURCHASING.VENDOR
SET CREDIT = 5
WHERE ROWID = 0XCF08000000;
-- 用例7: 查询ROWID并锁定行后进行更新
-- 假设查询的ROWID为0XCF09000000
SELECT ROWID, VENDORID, NAME, CREDIT
FROM PURCHASING.VENDOR
WHERE NAME = '广州出版社'
FOR UPDATE;
UPDATE PURCHASING.VENDOR
SET CREDIT = 6
WHERE ROWID = 0XCF09000000;
-- 用例8: 查询ROWID并锁定行后进行更新
-- 假设查询的ROWID为0XCF0A000000
SELECT ROWID, VENDORID, NAME, CREDIT
FROM PURCHASING.VENDOR
WHERE NAME = '北京出版社'
FOR UPDATE;
UPDATE PURCHASING.VENDOR
SET CREDIT = 7
WHERE ROWID = 0XCF0A000000;
-- 用例9: 查询ROWID并锁定行后进行更新
-- 假设查询的ROWID为0XCF0B000000
SELECT ROWID, VENDORID, NAME, CREDIT
FROM PURCHASING.VENDOR
WHERE NAME = '上海出版社'
FOR UPDATE;
UPDATE PURCHASING.VENDOR
SET CREDIT = 8
WHERE ROWID = 0XCF0B000000;
-- 用例10: 查询ROWID并锁定行后进行更新
-- 假设查询的ROWID为0XCF0C000000
SELECT ROWID, VENDORID, NAME, CREDIT
FROM PURCHASING.VENDOR
WHERE NAME = '广州出版社'
FOR UPDATE;
UPDATE PURCHASING.VENDOR
SET CREDIT = 9
WHERE ROWID = 0XCF0C000000